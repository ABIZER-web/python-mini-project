<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
<div class="container mx-auto p-4">
<h1 class="text-3xl font-bold text-[#800000] mb-6">Student Dashboard</h1>
<div class="bg-white p-6 rounded-lg shadow-md">
<!-- Both Flask template variables and JavaScript will work -->
<h2 class="text-xl font-semibold mb-4">Welcome, <span id="studentName">{{ student_name }}</span>!</h2>
<p class="mb-2">Student ID: <span id="studentId">{{ student_id }}</span></p>
<div class="mt-6">
<h3 class="text-lg font-medium mb-2">Your Attendance</h3>
<div class="overflow-x-auto">
<table class="min-w-full bg-white border">
<thead>
<tr>
<th class="py-2 px-4 border">Date</th>
<th class="py-2 px-4 border">Status</th>
</tr>
</thead>
<tbody>
<tr>
<td class="py-2 px-4 border">2023-10-01</td>
<td class="py-2 px-4 border text-green-600">Present</td>
</tr>
<tr>
<td class="py-2 px-4 border">2023-10-02</td>
<td class="py-2 px-4 border text-red-600">Absent</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<button onclick="logout()" class="mt-4 bg-[#800000] text-white py-2 px-4 rounded">Logout</button>
</div>

<script>
// This will work with both Flask and standalone HTML
document.addEventListener('DOMContentLoaded', function() {
    // If coming from Flask, the values are already set in the template
    // If coming from standalone HTML, check localStorage
    if (!document.getElementById('studentName').textContent) {
        document.getElementById('studentName').textContent = localStorage.getItem('studentName');
    }
    if (!document.getElementById('studentId').textContent) {
        document.getElementById('studentId').textContent = localStorage.getItem('studentId');
    }
});

function logout() {
    // Clear storage and redirect
    localStorage.removeItem('studentName');
    localStorage.removeItem('studentId');
    // Works for both Flask and standalone
    window.location.href = '/';  // For Flask
    // window.location.href = 'index.html';  // For standalone
}
</script>
</body>
</html>